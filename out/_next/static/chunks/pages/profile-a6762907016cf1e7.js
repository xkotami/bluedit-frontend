(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6896:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(1109)}])},1109:function(e,s,t){"use strict";t.r(s);var a=t(5893),n=t(7294),i=t(1163),l=t(9008),o=t.n(l),r=t(7331),c=t(2860),d=t.n(c),p=t(3479);s.default=()=>{var e;let[s,t]=(0,n.useState)(null),[l,c]=(0,n.useState)([]),[m,h]=(0,n.useState)([]),[u,_]=(0,n.useState)(!0),[x,f]=(0,n.useState)(""),[j,v]=(0,n.useState)("posts"),N=(0,i.useRouter)();(0,n.useEffect)(()=>{if(!(0,p.$8)()){N.push("/login");return}b()},[]);let b=async()=>{try{let e=localStorage.getItem("userId");if(!e){N.push("/login");return}let s=await p.W4.getUserById(parseInt(e));if(s.success&&s.data)t(s.data);else{f("Failed to load user profile");return}let a=await p.WY.getAllPosts();if(a.success&&a.data){let s=a.data.filter(s=>s.user.id===parseInt(e));c(s)}let n=await p.a$.getUserComments(parseInt(e));n.success&&n.data&&h(n.data)}catch(e){f("Failed to load profile data"),console.error("Profile loading error:",e)}finally{_(!1)}},g=e=>{let s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/36e5),n=Math.floor(a/24);return a<1?"Less than an hour ago":a<24?"".concat(a," hour").concat(a>1?"s":""," ago"):n<7?"".concat(n," day").concat(n>1?"s":""," ago"):t.toLocaleDateString()},C=e=>{v(e)};return u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Profile | Bluedit"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,a.jsx)(r.Z,{}),(0,a.jsx)("main",{className:d().profileContainer,children:(0,a.jsx)("div",{style:{textAlign:"center",padding:"60px",fontSize:"18px",color:"#666"},children:"Loading your profile..."})})]}):x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Profile | Bluedit"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,a.jsx)(r.Z,{}),(0,a.jsx)("main",{className:d().profileContainer,children:(0,a.jsx)("div",{style:{textAlign:"center",padding:"60px",fontSize:"18px",color:"#d32f2f",backgroundColor:"#ffebee",borderRadius:"8px",margin:"20px"},children:x})})]}):s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsxs)("title",{children:[s.username," | Bluedit Profile"]}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,a.jsx)(r.Z,{}),(0,a.jsxs)("main",{className:d().profileContainer,children:[(0,a.jsxs)("div",{className:d().profileHeader,children:[(0,a.jsx)("div",{className:d().banner}),(0,a.jsxs)("div",{className:d().profileInfo,children:[(0,a.jsxs)("div",{className:d().avatarContainer,children:[(0,a.jsx)("div",{className:d().avatar}),(0,a.jsxs)("h1",{className:d().username,children:["u/",s.username]})]}),(0,a.jsxs)("div",{className:d().stats,children:[(0,a.jsxs)("div",{className:d().statItem,children:[(0,a.jsx)("span",{className:d().statNumber,children:(e=s.points)>=1e3?(e/1e3).toFixed(1)+"k":e.toString()}),(0,a.jsx)("span",{className:d().statLabel,children:"Reputation"})]}),(0,a.jsxs)("div",{className:d().statItem,children:[(0,a.jsx)("span",{className:d().statNumber,children:"Member"}),(0,a.jsx)("span",{className:d().statLabel,children:"Status"})]}),(0,a.jsxs)("div",{className:d().statItem,children:[(0,a.jsx)("span",{className:d().statNumber,children:l.length}),(0,a.jsx)("span",{className:d().statLabel,children:"Posts"})]}),(0,a.jsxs)("div",{className:d().statItem,children:[(0,a.jsx)("span",{className:d().statNumber,children:m.length}),(0,a.jsx)("span",{className:d().statLabel,children:"Comments"})]})]}),(0,a.jsxs)("div",{className:d().about,children:[(0,a.jsx)("h3",{children:"About"}),(0,a.jsx)("p",{children:"Active community member on Bluedit"})]})]})]}),(0,a.jsxs)("div",{className:d().tabs,children:[(0,a.jsxs)("button",{className:"".concat(d().tab," ").concat("posts"===j?d().active:""),onClick:()=>C("posts"),children:["Posts (",l.length,")"]}),(0,a.jsxs)("button",{className:"".concat(d().tab," ").concat("comments"===j?d().active:""),onClick:()=>C("comments"),children:["Comments (",m.length,")"]}),(0,a.jsx)("button",{className:"".concat(d().tab," ").concat("saved"===j?d().active:""),onClick:()=>C("saved"),children:"Saved"}),(0,a.jsx)("button",{className:"".concat(d().tab," ").concat("upvoted"===j?d().active:""),onClick:()=>C("upvoted"),children:"Upvoted"}),(0,a.jsx)("button",{className:"".concat(d().tab," ").concat("downvoted"===j?d().active:""),onClick:()=>C("downvoted"),children:"Downvoted"})]}),"posts"===j?(0,a.jsx)("div",{className:d().postsContainer,children:0===l.length?(0,a.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:["No posts yet. ",(0,a.jsx)("a",{href:"/posts/create",children:"Create your first post!"})]}):l.map(e=>{var t,n;return(0,a.jsxs)("div",{className:d().post,children:[(0,a.jsxs)("div",{className:d().postHeader,children:[(0,a.jsx)("span",{className:d().subreddit,children:"r/community"}),(0,a.jsx)("span",{className:d().dot,children:"•"}),(0,a.jsxs)("span",{className:d().time,children:["Posted by u/",null==s?void 0:s.username," ",g(e.createdAt)]})]}),(0,a.jsx)("h3",{className:d().postTitle,onClick:()=>N.push("/posts/".concat(e.id)),style:{cursor:"pointer"},children:e.title}),(0,a.jsx)("p",{className:d().postContent,children:e.content.length>150?"".concat(e.content.substring(0,150),"..."):e.content}),(0,a.jsxs)("div",{className:d().postStats,children:[(0,a.jsxs)("span",{className:d().upvotes,children:["▲ ",(null===(t=e.comments)||void 0===t?void 0:t.length)||0]}),(0,a.jsxs)("span",{className:d().comments,children:["\uD83D\uDCAC ",(null===(n=e.comments)||void 0===n?void 0:n.length)||0," comments"]})]})]},e.id)})}):"comments"===j?(0,a.jsx)("div",{className:d().postsContainer,children:0===m.length?(0,a.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"No comments yet."}):m.map(e=>(0,a.jsxs)("div",{className:d().post,children:[(0,a.jsx)("div",{className:d().postHeader,children:(0,a.jsxs)("span",{className:d().time,children:["Comment by u/",null==s?void 0:s.username," ",g(e.createdAt)]})}),(0,a.jsx)("p",{className:d().postContent,children:e.text}),(0,a.jsx)("div",{className:d().postStats,children:(0,a.jsxs)("span",{className:d().upvotes,children:["▲ ",e.points]})})]},e.id))}):(0,a.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"This feature is coming soon!"})]})]}):null}},2860:function(e){e.exports={profileContainer:"profile_profileContainer__xaOh0",profileHeader:"profile_profileHeader__t8jcl",banner:"profile_banner__HmoBJ",profileInfo:"profile_profileInfo__vxG_h",avatarContainer:"profile_avatarContainer__GQKLX",avatar:"profile_avatar__J7yiR",username:"profile_username__8OhI_",stats:"profile_stats__bBjfl",statItem:"profile_statItem__KE7_P",statNumber:"profile_statNumber__0AjOW",statLabel:"profile_statLabel__nFglC",about:"profile_about__GCeXV",followButton:"profile_followButton__wHKhn",tabs:"profile_tabs__f83o5",tab:"profile_tab__wdhA3",active:"profile_active__4m_ck",postsContainer:"profile_postsContainer__q0n4v",post:"profile_post__nChmL",postHeader:"profile_postHeader__IyKpD",subreddit:"profile_subreddit__F_tgh",dot:"profile_dot__i_z8Y",postTitle:"profile_postTitle__LV49L",postContent:"profile_postContent__K3qG1",postStats:"profile_postStats__q0rpc",upvotes:"profile_upvotes__7qElj",comments:"profile_comments__GDQ_G"}},9008:function(e,s,t){e.exports=t(3867)}},function(e){e.O(0,[424,219,888,774,179],function(){return e(e.s=6896)}),_N_E=e.O()}]);